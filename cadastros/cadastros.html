<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Usuário</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        function validarFormulario(event) {
            event.preventDefault();

            const nome = document.getElementById('nome').value.trim();
            const dataNascimento = document.getElementById('dataNascimento').value.trim();
            const nickname = document.getElementById('nickname').value.trim();

            let erros = [];
            if (!nome) {
                erros.push("O campo 'Nome' é obrigatório.");
            }
            if (!dataNascimento) {
                erros.push("O campo 'Data de Nascimento' é obrigatório.");
            }
            if (!nickname) {
                erros.push("O campo 'Nickname' é obrigatório.");
            }

            const listaErros = document.getElementById('erros');
            listaErros.innerHTML = '';
            if (erros.length > 0) {
                erros.forEach(erro => {
                    const li = document.createElement('li');
                    li.classList.add('list-group-item', 'list-group-item-danger');
                    li.textContent = erro;
                    listaErros.appendChild(li);
                });
            } else {
                // Se não houver erros, o formulário pode ser enviado
                document.getElementById('formCadastro').submit();
            }
        }
    </script>
</head>
<body>
    <div class="container mt-5">
        <h2>Cadastro de Usuário</h2>
        <form id="formCadastro" action="/registrar" method="POST" onsubmit="validarFormulario(event)">
            <div class="mb-3">
                <label for="nome" class="form-label">Nome</label>
                <input type="text" class="form-control" id="nome" name="nome" required>
            </div>
            <div class="mb-3">
                <label for="dataNascimento" class="form-label">Data de Nascimento</label>
                <input type="date" class="form-control" id="dataNascimento" name="dataNascimento" required>
            </div>
            <div class="mb-3">
                <label for="nickname" class="form-label">Nickname</label>
                <input type="text" class="form-control" id="nickname" name="nickname" required>
            </div>
            <div id="erros" class="mt-3">
                <!-- Os erros de validação serão exibidos aqui -->
            </div>
            <button type="submit" class="btn btn-primary mt-3">Cadastrar</button>
        </form>
        <div class="mt-4">
            <a href="/menu" class="btn btn-secondary">Voltar para o Menu</a>
        </div>
    </div>
</body>
</html>